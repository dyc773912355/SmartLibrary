<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smartlibrary.dao.bookLendDao">
    <select id="getBorrowCountByMonth" parameterType="com.smartlibrary.domain.Book_Lend" resultType="com.smartlibrary.domain.Book_Lend">
        select zztmc.`year`,zztmc.`month`,zztmc.book_lend_times,zztmc.book_return_times
        FROM zz_time_month_count zztmc
        GROUP BY zztmc.`year`,zztmc.`month`
        ORDER BY zztmc.`year`,zztmc.`month`
    </select>
    <select id="getBorrowCountByYear" parameterType="com.smartlibrary.domain.Book_Lend" resultType="com.smartlibrary.domain.Book_Lend">
        select zztmc.`year`,sum(zztmc.book_lend_times) as book_lend_times ,sum(zztmc.book_return_times) as book_return_times
        FROM zz_time_month_count zztmc
        GROUP BY zztmc.`year`
        ORDER BY zztmc.`year`
    </select>
    <select id="getBorrowCountByDay" parameterType="com.smartlibrary.domain.Book_Lend" resultType="com.smartlibrary.domain.Book_Lend">
        select zztdc.`year`,zztdc.`month`,zztdc.`day`,zztdc.book_lend_times
        FROM zz_time_day_count zztdc
        GROUP BY zztdc.`year`,zztdc.`month`,zztdc.`day`
        ORDER BY zztdc.`year`,zztdc.`month`,zztdc.`day`
    </select>
    <!--CURDATE()-->
    <select id="getBorrowCountByHourAndAcademy" parameterType="com.smartlibrary.domain.Book_Lend" resultType="com.smartlibrary.domain.Book_Lend">
        SELECT zzbhalb.`hour`,zzbhalb.academy ,zzbhalb.book_lend_times ,zzbhalb.book_back_times
        FROM zz_book_hour_academy_lend_back  zzbhalb
        WHERE zzbhalb.ymdhdate  &gt;  DATE_SUB('2015-01-19',INTERVAL 2 DAY) AND zzbhalb.ymdhdate &lt; '2015-01-19';
        GROUP BY zzbhalb.hour ,zzbhalb.academy
        ORDER BY zzbhalb.hour ,zzbhalb.academy
    </select>
</mapper>